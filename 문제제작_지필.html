<!DOCTYPE html>
<html>
    <head>
        <title>메인페이지</title>
        <link rel="stylesheet" href="./css/boot_custom.css">
        <link rel="stylesheet" href="./css/design.css">
        <link rel="stylesheet" href="./css/custom.css">
        <script src="./js/jquery.min.js"></script>
        <script src="./js/bootstrap.bundle.min.js"></script>
        <style>
            .ai-box {
                width: 60%;
                margin: 0 auto;
            } .ai-box h3 {
                text-align: center;
                margin-bottom: 3rem;
            } .ai-category {
                display: flex;
                align-items: stretch;
                justify-content: center;
                gap: 30px;
                margin-bottom: 2.5rem;
            } .ai-category .category {
                width: 15%;
                padding: 0.8rem;
                border-radius: 25px;
                border: 3px solid #60A5B2;
                text-align: center;
                color: #60A5B2;
                font-size: 1.8rem;
            } .ai-category .category.selected {
                color: #fff;
                background-color: #60A5B2;
            } .ai-option {
                display: flex;
                border-radius: 10px;
                border: 3px solid #60A5B2;
                font-size: 1.9rem;
                margin-bottom: 2rem;
            } .ai-option div.title {
                width: 17%;
                padding: 1.8rem 0;
                border-radius: 5px 0 0 5px;
                background-color: #60A5B2;
                color: #fff;
                text-align: center;
            } .ai-option .content {
                width: 83%;
                padding: 1.8rem;
                text-align: center;
            } .dropdown .content {
                position: relative;
            } .dropdown-icon {
                position: absolute;
                right: 15px;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
                height: 20px;
                background-image: url("./img/polygon.svg");
                background-position: center;
                background-repeat: no-repeat;
                background-size: contain;
                transition: 0.3s all;
            } .dropdown .content[aria-expanded="true"] .dropdown-icon {
                transform: translateY(-50%) rotate(180deg);
            } .ai-option .dropdown-menu {
                width: 83%;
            } .dropdown-item.selected {
                background:#F5F6F8;
                color: var(--primary);
            } .ai_create_btn {
                width: 20%;
                display: block;
                margin: 3.5rem auto 0;
                padding: 1.1rem;
                border-radius: 100px;
                border: 0;
                background-color: #60A5B2;
                color: #fff;
                font-size: 1.8rem;
                text-align: center;
            }

            input {
                /* 기본 스타일 초기화 */
                border: none;
                outline: none;
                background: none;
                box-shadow: none;
                resize: none;  /* textarea 크기 조절 비활성화 */
                
                /* 기본 여백 제거 */
                margin: 0;
                padding: 0;

                /* 폰트 상속 */
                font-family: inherit;
                font-size: inherit;
                color: inherit;

                /* iOS의 기본 스타일 제거 */
                -webkit-appearance: none;
                -moz-appearance: none;
                appearance: none;
            }

            /* input 특정 타입별 추가 스타일 제거 */
            input[type="search"]::-webkit-search-decoration,
            input[type="search"]::-webkit-search-cancel-button,
            input[type="search"]::-webkit-search-results-button,
            input[type="search"]::-webkit-search-results-decoration {
                display: none;
            }

            .file-input-wrapper {
                position: relative;
                text-align: center;
            }

            .file-input-wrapper input[type="file"] {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                opacity: 0;
                cursor: pointer;
            }

            .file-placeholder {
                color: #DBDBDB;
            }

            /* 파일 선택됐을 때 */
            .file-placeholder.has-file {
                color: black;
            }

            /* 자동완성 배경색 제거 */
            input:-webkit-autofill,
            input:-webkit-autofill:hover,
            input:-webkit-autofill:focus {
                -webkit-box-shadow: 0 0 0px 1000px transparent inset;
                transition: background-color 5000s ease-in-out 0s;
            }

            .placeholder {
                color: #DBDBDB;
            }

            /* placeholder 스타일 초기화 */
            ::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */
                color: #DBDBDB;
                opacity: 1;
            }

            :-ms-input-placeholder { /* Internet Explorer 10-11 */
                color: #DBDBDB;
            }

            ::-ms-input-placeholder { /* Microsoft Edge */
                color: #DBDBDB;
            }
        </style>
    </head>
    <body>
        <div class="container" style="height: 100vh;">
            <div class="ai-box">
                <h3 class="fs_40 fw_700">문제 제작</h3>
                <div class="ai-category">
                    <span class="fw_600 category selected">지필평가</span>
                    <a class="fw_600 category" href="./문제제작_형성.html">형성평가</a>
                </div>
                <div class="ai-option dropdown">
                    <div class="title"><span>학교급</span></div>
                    <div id="grade" class="content" type="button" data-toggle="dropdown" aria-expanded="false">
                        <span id="grade_placeholder" class="placeholder">객관식 (중학교, 고등학교)</span>
                        <span id="selected_grade"></span>
                        <div class="dropdown-icon"></div>
                    </div>
                    <div class="dropdown-menu">
                        <button id="grade_middle" class="dropdown-item" onclick="select_grade_option('middle');">중학교</button>
                        <button id="grade_high" class="dropdown-item" onclick="select_grade_option('high');">고등학교</button>
                    </div>
                    <input id="grade_value" type="hidden" />
                </div>
                <div class="ai-option dropdown">
                    <div class="title"><span>출제 과목</span></div>
                    <div id="subject" class="content" type="button" data-toggle="dropdown" aria-expanded="false">
                        <span id="subject_placeholder" class="placeholder">객관식 (국어, 영어, 수학, 사회, 역사, 과학 등)</span>
                        <span id="selected_subject"></span>
                        <div class="dropdown-icon"></div>
                    </div>
                    <div class="dropdown-menu">
                        <button id="subject_ko" class="dropdown-item" onclick="select_subject_option('ko');">국어</button>
                        <button id="subject_en" class="dropdown-item" onclick="select_subject_option('en');">영어</button>
                        <button id="subject_ma" class="dropdown-item" onclick="select_subject_option('ma');">수학</button>
                        <button id="subject_so" class="dropdown-item" onclick="select_subject_option('so');">사회</button>
                        <button id="subject_hi" class="dropdown-item" onclick="select_subject_option('hi');">역사</button>
                        <button id="subject_sc" class="dropdown-item" onclick="select_subject_option('sc');">과학</button>
                    </div>
                    <input id="subject_value" type="hidden" />
                </div>
                <div class="ai-option dropdown">
                    <div class="title"><span>출제 종류</span></div>
                    <div id="exam_kind" class="content" type="button" data-toggle="dropdown" aria-expanded="false">
                        <span id="exam_kind_placeholder" class="placeholder">객관식 (객관식, 서술형, 논술형)</span>
                        <span id="selected_exam_kind"></span>
                        <div class="dropdown-icon"></div>
                    </div>
                    <div class="dropdown-menu">
                        <button id="exam_kind_objective" class="dropdown-item" onclick="select_exam_kind_option('objective');">객관식</button>
                        <button id="exam_kind_subjective" class="dropdown-item" onclick="select_exam_kind_option('subjective');">서술형</button>
                        <button id="exam_kind_essay" class="dropdown-item" onclick="select_exam_kind_option('essay');">논술형</button>
                    </div>
                    <input id="exam_kind_value" type="hidden" />
                </div>
                <div class="ai-option">
                    <div class="title"><span>문제 수</span></div>
                    <input
                        class="content"
                        type="number"
                        placeholder="단답식"
                        min="1" 
                        step="1"
                        onkeydown="return event.keyCode !== 190"
                        oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/^0+/, '')" />
                </div>
                <div class="ai-option dropdown">
                    <div class="title"><span>난이도</span></div>
                    <div id="difficulty" class="content" type="button" data-toggle="dropdown" aria-expanded="false">
                        <span id="difficulty_placeholder" class="placeholder">객관식 (쉬움, 보통, 어려움)</span>
                        <span id="selected_difficulty"></span>
                        <div class="dropdown-icon"></div>
                    </div>
                    <div class="dropdown-menu">
                        <button id="difficulty_hard" class="dropdown-item" onclick="select_difficulty_option('hard');">상</button>
                        <button id="difficulty_normal" class="dropdown-item" onclick="select_difficulty_option('normal');">중</button>
                        <button id="difficulty_easy" class="dropdown-item" onclick="select_difficulty_option('easy');">하</button>
                    </div>
                    <input id="difficulty_value" type="hidden" />
                </div>
                <div class="ai-option dropdown">
                    <div class="title"><span>문제 종류</span></div>
                    <div id="question_kind" class="content" type="button" data-toggle="dropdown" aria-expanded="false">
                        <span id="question_kind_placeholder" class="placeholder">객관식 (단순 암기 문제, 추론문제(참고자료))</span>
                        <span id="selected_question_kind"></span>
                        <div class="dropdown-icon"></div>
                    </div>
                    <div class="dropdown-menu">
                        <button id="question_kind_simple" class="dropdown-item" onclick="select_question_kind_option('simple');">단순 암기 문제</button>
                        <button id="question_kind_inference" class="dropdown-item" onclick="select_question_kind_option('inference');">추론문제(참고자료)</button>
                    </div>
                    <input id="question_kind_value" type="hidden" />
                </div>
                <div class="ai-option">
                    <div class="title"><span>출제 범위</span></div>
                    <div class="content file-input-wrapper">
                        <input type="file" id="pdf_file" accept=".pdf" />
                        <span class="file-placeholder">출제할 범위의 PDF 파일 첨부</span>
                    </div>
                </div>
                <button class="ai_create_btn fw_500">생성하기</button>
            </div>
        </div>
    </body>
    <script type="text/javascript">
        const gradeNames = {
            'middle': '중학교',
            'high': '고등학교'
        };
        let selectedGrade = null;
        function select_grade_option(grade) {
            const $gradeBtn = $(`#grade_${grade}`);

            if ($gradeBtn.hasClass('selected')) {
                return false;
            }

            if (selectedGrade !== null) {
                $(`#grade_${selectedGrade}`).removeClass('selected');
            }
            $gradeBtn.addClass('selected');
            $('#grade_placeholder').hide();
            $('#selected_grade').text(gradeNames[grade]);
            $('#grade_value').val(grade);
            selectedGrade = grade;

            return false;
        }

        const subjectNames = {
            'ko': '국어',
            'en': '영어',
            'ma': '수학',
            'so': '사회',
            'hi': '역사',
            'sc': '과학'
        };
        let selectedSubject = null;
        function select_subject_option(subject) {
            const $subjectBtn = $(`#subject_${subject}`);

            if ($subjectBtn.hasClass('selected')) {
                return false;
            }

            if (selectedSubject !== null) {
                $(`#subject_${selectedSubject}`).removeClass('selected');
            }
            $subjectBtn.addClass('selected');
            $('#subject_placeholder').hide();
            $('#selected_subject').text(subjectNames[subject]);
            $('#subject_value').val(subject);
            selectedSubject = subject;

            return false;
        }

        const examKindNames = {
            'objective': '객관식',
            'subjective': '서술형',
            'essay': '논술형'
        };
        let selectedExamKind = null;
        function select_exam_kind_option(exam_kind) {
            const $exam_kindBtn = $(`#exam_kind_${exam_kind}`);

            if ($exam_kindBtn.hasClass('selected')) {
                return false;
            }

            if (selectedExamKind !== null) {
                $(`#exam_kind_${selectedExamKind}`).removeClass('selected');
            }
            $exam_kindBtn.addClass('selected');
            $('#exam_kind_placeholder').hide();
            $('#selected_exam_kind').text(examKindNames[exam_kind]);
            $('#exam_kind_value').val(exam_kind);
            selectedExamKind = exam_kind;

            return false;
        }

        const difficultyNames = {
            'hard': '상',
            'normal': '중',
            'easy': '하'
        };
        let selectedDifficulty = null;
        function select_difficulty_option(difficulty) {
            const $difficultyBtn = $(`#difficulty_${difficulty}`);

            if ($difficultyBtn.hasClass('selected')) {
                return false;
            }

            if (selectedDifficulty !== null) {
                $(`#difficulty_${selectedDifficulty}`).removeClass('selected');
            }
            $difficultyBtn.addClass('selected');
            $('#difficulty_placeholder').hide();
            $('#selected_difficulty').text(difficultyNames[difficulty]);
            $('#difficulty_value').val(difficulty);
            selectedDifficulty = difficulty;

            return false;
        }

        const questionKindNames = {
            'simple': '단순 암기 문제',
            'inference': '추론문제(참고자료)'
        };
        let selectedQuestionKind = null;
        function select_question_kind_option(question_kind) {
            const $question_kindBtn = $(`#question_kind_${question_kind}`);

            if ($question_kindBtn.hasClass('selected')) {
                return false;
            }

            if (selectedQuestionKind !== null) {
                $(`#question_kind_${selectedQuestionKind}`).removeClass('selected');
            }
            $question_kindBtn.addClass('selected');
            $('#question_kind_placeholder').hide();
            $('#selected_question_kind').text(questionKindNames[question_kind]);
            $('#question_kind_value').val(question_kind);
            selectedQuestionKind = question_kind;

            return false;
        }

        document.getElementById('pdf_file').addEventListener('change', function() {
            const placeholder = this.parentElement.querySelector('.file-placeholder');
            if (this.files.length > 0) {
                placeholder.textContent = this.files[0].name;
                placeholder.classList.add('has-file');
            } else {
                placeholder.textContent = '출제할 범위의 PDF 파일 첨부';
                placeholder.classList.remove('has-file');
            }
        });
    </script>
</html>